---
export interface Props {
  url: string | undefined;
  title: string;
  pubDate: string;
  author: string;
  excerpt?: string | null;
  tags?: string[] | null;
  img?: string | null;
}

const {
  title,
  author,
  url,
  pubDate,
  excerpt = null,
  tags = null,
} = Astro.props as Props;

const dateObj = new Date(pubDate);
const formattedDate = dateObj.toLocaleDateString("en-US", {
  weekday: "long",
  year: "numeric",
  month: "long",
  day: "numeric",
});
---

<li class="prose prose-slate dark:prose-invert">
  <small class="text-light-textMuted dark:text-dark-textMuted"
    >{formattedDate} | {author}</small
  >
  <h2 class="text-2xl my-0">
    <a
      href={url}
      class="!no-underline font-bold"
      >{title}</a
    >
  </h2>
  {
    tags && (
      <div>
        {tags.map((tag) => (
          <p class="tag">
            <a href={`/tags/${tag}`}>{tag}</a>
          </p>
        ))}
      </div>
    )
  }
  <p class="text-lg">{excerpt}</p>
</li>
